---
title: "Convert html slides to pdf"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{convert-html-slides-to-pdf}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(nq1h)
```

<!-- WARNING - This vignette is generated by {fusen} from dev/flat_html_to_pdf.Rmd: do not edit by hand -->

# Convert html slides to pdf

In somes cases you might want to provide your audience with a slide deck in 
pdf format. The function `convert_html_to_pdf()` will come in handy it that case.

This function convert your html course to pdf using `decktape` a cli pdf exporter written in JavaScript. Credit to  https://github.com/astefanutti/decktape/.

To do so it uses the dockerised version of `decktape`. Behind the scene the 
function constructs the proper call to `docker run`.

It requires that:
* docker is installed on the system
* the user running the command is part of the docker group


```{r example-convert_html_to_pdf}
temp_dir <- tempfile(pattern = "compile")

courses_path <- system.file(
  "courses",
  package = "nq1h"
)
qmds <- list.files(
  path = courses_path,
  full.names = TRUE,
  recursive = TRUE,
  pattern = "qmd$"
)

html_output <- compile_qmd_course(
  vec_qmd_path = qmds,
  output_dir = temp_dir,
  output_html = "complete_course.html"
)

file_path <- list(
  html = file.path(temp_dir, "complete_course.html"),
  pdf = file.path(temp_dir, "complete_course.pdf")
)

convert_html_to_pdf(
  html_path = file_path$html,
  pdf_path = file_path$pdf
)

# browseURL(file_path$pdf)

unlink(temp_dir, TRUE, TRUE)
```

